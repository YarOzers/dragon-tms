<div>
  <mat-checkbox [(ngModel)]="allSelected" [indeterminate]="indeterminate" (change)="selectAllSteps($event.checked)">
    Выбрать все
  </mat-checkbox>
</div>
<div style="background-color: #7abb6c">
  <div *ngFor="let step of steps" fxLayout="row">

    <mat-checkbox [(ngModel)]="step.selected" (change)="updateAllSelected()" fxFlex="4"></mat-checkbox>
    <input type="text" [(ngModel)]="step.action" placeholder="Действие" fxFlex="48">
    <input type="text" [(ngModel)]="step.expectedResult" placeholder="Ожидаемый результат" fxFlex="48">
  </div>
  <div fxLayout="row" fxLayoutAlign="end center">
    <button mat-icon-button (click)="addStep()" ><mat-icon>add</mat-icon></button>
    <button mat-icon-button (click)="deleteSelectedSteps()" ><mat-icon>delete</mat-icon></button>
  </div>
</div>

